{"id":"c5jD","dependencies":[{"name":"/mnt/user-data/ariel/aztec2-internal/barretenberg.js/tsconfig.json","includedInParent":true,"mtime":1655833791696},{"name":"/mnt/user-data/ariel/aztec2-internal/barretenberg.js/package.json","includedInParent":true,"mtime":1657108767863},{"name":"tslib","loc":{"line":4,"column":24},"parent":"/mnt/user-data/ariel/aztec2-internal/barretenberg.js/src/crypto/schnorr/index.ts","resolved":"/mnt/user-data/ariel/aztec2-internal/barretenberg.js/node_modules/tslib/tslib.es6.js"},{"name":"./signature","loc":{"line":7,"column":34},"parent":"/mnt/user-data/ariel/aztec2-internal/barretenberg.js/src/crypto/schnorr/index.ts","resolved":"/mnt/user-data/ariel/aztec2-internal/barretenberg.js/src/crypto/schnorr/signature.ts"},{"name":"../../serialize","loc":{"line":6,"column":28},"parent":"/mnt/user-data/ariel/aztec2-internal/barretenberg.js/src/crypto/schnorr/index.ts","resolved":"/mnt/user-data/ariel/aztec2-internal/barretenberg.js/src/serialize/index.ts"},{"name":"buffer","parent":"/mnt/user-data/ariel/aztec2-internal/barretenberg.js/src/crypto/schnorr/index.ts","resolved":"/mnt/user-data/ariel/aztec2-internal/barretenberg.js/node_modules/node-libs-browser/node_modules/buffer/index.js"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\nvar e=require(\"buffer\").Buffer;Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Schnorr=void 0;const r=require(\"tslib\"),s=require(\"./signature\"),t=require(\"../../serialize\");(0,r.__exportStar)(require(\"./signature\"),exports);class a{constructor(e){this.wasm=e}constructSignature(r,t){return this.wasm.transferToHeap(t,64),this.wasm.transferToHeap(r,96),this.wasm.call(\"construct_signature\",96,r.length,64,0,32),new s.SchnorrSignature(e.from(this.wasm.sliceMemory(0,64)))}computePublicKey(r){return this.wasm.transferToHeap(r,0),this.wasm.call(\"compute_public_key\",0,32),e.from(this.wasm.sliceMemory(32,96))}verifySignature(e,r,s){return this.wasm.transferToHeap(r,0),this.wasm.transferToHeap(s.s(),64),this.wasm.transferToHeap(s.e(),96),this.wasm.transferToHeap(e,128),!!this.wasm.call(\"verify_signature\",128,e.length,0,64,96)}multiSigComputePublicKey(r){return this.wasm.transferToHeap(r,128),this.wasm.call(\"multisig_create_multisig_public_key\",128,0),e.from(this.wasm.sliceMemory(0,128))}multiSigValidateAndCombinePublicKeys(r){const s=(0,t.serializeBufferArrayToVector)(r);return this.wasm.transferToHeap(s,64),this.wasm.call(\"multisig_validate_and_combine_signer_pubkeys\",64,0),e.from(this.wasm.sliceMemory(0,64))}multiSigRoundOne(){return this.wasm.call(\"multisig_construct_signature_round_1\",0,128),{publicOutput:e.from(this.wasm.sliceMemory(0,128)),privateOutput:e.from(this.wasm.sliceMemory(128,192))}}multiSigRoundTwo(r,s,a,i,o){const n=(0,t.serializeBufferArrayToVector)(i),m=(0,t.serializeBufferArrayToVector)(o);this.wasm.transferToHeap(r,32);const u=32+r.length;this.wasm.transferToHeap(s,u);const l=u+32;this.wasm.transferToHeap(a,l);const c=l+64;this.wasm.transferToHeap(n,c);const h=c+n.length;return this.wasm.transferToHeap(m,h),this.wasm.call(\"multisig_construct_signature_round_2\",32,r.length,u,l,c,h,0),e.from(this.wasm.sliceMemory(0,32))}multiSigCombineSignatures(r,a,i,o){const n=(0,t.serializeBufferArrayToVector)(a),m=(0,t.serializeBufferArrayToVector)(i),u=(0,t.serializeBufferArrayToVector)(o);this.wasm.transferToHeap(r,64);const l=64+r.length;this.wasm.transferToHeap(n,l);const c=l+n.length;this.wasm.transferToHeap(m,c);const h=c+m.length;return this.wasm.transferToHeap(u,h),this.wasm.call(\"multisig_combine_signatures\",64,r.length,l,c,h,0,32),new s.SchnorrSignature(e.from(this.wasm.sliceMemory(0,64)))}}exports.Schnorr=a;"},"sourceMaps":null,"error":null,"hash":"f4b4cba6960191c1caf62de89c4def08","cacheData":{"env":{}}}